(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[483],{7716:function(){},3545:function(e,t,o){"use strict";o.d(t,{ot:function(){return R},$j:function(){return z},Jx:function(){return S},Pv:function(){return k},ZP:function(){return b}});var n=o(7294);let r=n.createContext(null);function a(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function i(e,t){let o=t.viewState||t,n=!1;if("longitude"in o&&"latitude"in o){let t=e.center;e.center=new t.constructor(o.longitude,o.latitude),n=n||t!==e.center}if("zoom"in o){let t=e.zoom;e.zoom=o.zoom,n=n||t!==e.zoom}if("bearing"in o){let t=e.bearing;e.bearing=o.bearing,n=n||t!==e.bearing}if("pitch"in o){let t=e.pitch;e.pitch=o.pitch,n=n||t!==e.pitch}return o.padding&&!e.isPaddingEqual(o.padding)&&(n=!0,e.padding=o.padding),n}let s=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function l(e){if(!e)return null;if("string"==typeof e||("toJS"in e&&(e=e.toJS()),!e.layers))return e;let t={};for(let o of e.layers)t[o.id]=o;let o=e.layers.map(e=>{let o=t[e.ref],n=null;if("interactive"in e&&delete(n={...e}).interactive,o)for(let t of(delete(n=n||{...e}).ref,s))t in o&&(n[t]=o[t]);return n||e});return{...e,layers:o}}function u(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!u(e[o],t[o]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){let o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(let n of o)if(!t.hasOwnProperty(n)||!u(e[n],t[n]))return!1;return!0}return!1}var c=o(3454);let p={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},d={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},m={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},f=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],h=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class g{constructor(e,t,o){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{let t=this.props[m[e.type]];t&&t(e)},this._onPointerEvent=e=>{("mousemove"===e.type||"mouseout"===e.type)&&this._updateHover(e);let t=this.props[p[e.type]];if(t){if(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type){let t=this._hoveredFeatures||this._map.queryRenderedFeatures(e.point,{layers:this.props.interactiveLayerIds});e.features=t}t(e),delete e.features}},this._onCameraEvent=e=>{if(!this._internalUpdate){let t=this.props[d[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(o)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){let t=this.props;this.props=e;let o=this._updateSettings(e,t);o&&this._createShadowTransform(this._map);let n=this._updateSize(e),r=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(o||n||r&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){let o=g.savedMaps.pop();if(!o)return null;let n=o.map,r=n.getContainer();for(t.className=r.className;r.childNodes.length>0;)t.appendChild(r.childNodes[0]);n._container=t,o.setProps({...e,styleDiffing:!1}),n.resize();let{initialViewState:a}=e;return a&&(a.bounds?n.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):o._updateViewState(a,!1)),n.isStyleLoaded()?n.fire("load"):n.once("styledata",()=>n.fire("load")),o}_initialize(e){let{props:t}=this,o={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||function(){let e=null;if("undefined"!=typeof location){let t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||c.env.MapboxAccessToken}catch(e){}try{e=e||c.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(e){}return e}()||null,container:e,style:l(t.mapStyle)},n=o.initialViewState||o.viewState||o;if(Object.assign(o,{center:[n.longitude||0,n.latitude||0],zoom:n.zoom||0,pitch:n.pitch||0,bearing:n.bearing||0}),t.gl){let e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}let r=new this._MapClass(o);n.padding&&r.setPadding(n.padding),t.cursor&&(r.getCanvas().style.cursor=t.cursor),this._createShadowTransform(r);let a=r._render;r._render=e=>{this._inRender=!0,a.call(r,e),this._inRender=!1};let i=r._renderTaskQueue.run;r._renderTaskQueue.run=e=>{i.call(r._renderTaskQueue,e),this._onBeforeRepaint()},r.on("render",()=>this._onAfterRepaint());let s=r.fire;for(let e in r.fire=this._fireEvent.bind(this,s),r.on("resize",()=>{this._renderTransform.resize(r.transform.width,r.transform.height)}),r.on("styledata",()=>this._updateStyleComponents(this.props,{})),r.on("sourcedata",()=>this._updateStyleComponents(this.props,{})),p)r.on(e,this._onPointerEvent);for(let e in d)r.on(e,this._onCameraEvent);for(let e in m)r.on(e,this._onEvent);this._map=r}recycle(){let e=this.map.getContainer(),t=e.querySelector("[mapboxgl-children]");null==t||t.remove(),g.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){let e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){let t=function(e){let t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){let{viewState:t}=e;if(t){let e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;let o=this._map,n=this._renderTransform,{zoom:r,pitch:s,bearing:l}=n,u=o.isMoving();u&&(n.cameraElevationReference="sea");let c=i(n,{...a(o.transform),...e});if(u&&(n.cameraElevationReference="ground"),c&&t){let e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=r!==n.zoom),e.rotate||(e.rotate=l!==n.bearing),e.pitch||(e.pitch=s!==n.pitch)}return u||i(o.transform,e),c}_updateSettings(e,t){let o=this._map,n=!1;for(let r of f)r in e&&!u(e[r],t[r])&&(n=!0,o[`set${r[0].toUpperCase()}${r.slice(1)}`](e[r]));return n}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==t.mapStyle){let t={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(t.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(l(e.mapStyle),t),!0}return!1}_updateStyleComponents(e,t){let o=this._map,n=!1;return o.style.loaded()&&("light"in e&&!u(e.light,t.light)&&(n=!0,o.setLight(e.light)),"fog"in e&&!u(e.fog,t.fog)&&(n=!0,o.setFog(e.fog)),"terrain"in e&&!u(e.terrain,t.terrain)&&(!e.terrain||o.getSource(e.terrain.source))&&(n=!0,o.setTerrain(e.terrain))),n}_updateHandlers(e,t){let o=this._map,n=!1;for(let r of h){let a=e[r];u(a,t[r])||(n=!0,a?o[r].enable(a):o[r].disable())}return n}_updateHover(e){var t;let{props:o}=this,n=o.interactiveLayerIds&&(o.onMouseMove||o.onMouseEnter||o.onMouseLeave);if(n){let n;let r=e.type,a=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0;if("mousemove"===r)try{n=this._map.queryRenderedFeatures(e.point,{layers:o.interactiveLayerIds})}catch(e){n=[]}else n=[];let i=n.length>0;!i&&a&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=n,i&&!a&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=r}else this._hoveredFeatures=null}_fireEvent(e,t,o){let n=this._map,r=n.transform,i="string"==typeof t?t:t.type;return("move"===i&&this._updateViewState(this.props,!1),i in d&&("object"==typeof t&&(t.viewState=a(r)),this._map.isMoving()))?(n.transform=this._renderTransform,e.call(n,t,o),n.transform=r,n):(e.call(n,t,o),n)}_onBeforeRepaint(){let e=this._map;for(let t in this._internalUpdate=!0,this._deferredEvents)this._deferredEvents[t]&&e.fire(t);this._internalUpdate=!1;let t=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=t}}}g.savedMaps=[];let y=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"],v="undefined"!=typeof document?n.useLayoutEffect:n.useEffect,_=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"],E=n.createContext(null),x=(0,n.forwardRef)((e,t)=>{let a=(0,n.useContext)(r),[i,s]=(0,n.useState)(null),l=(0,n.useRef)(),{current:u}=(0,n.useRef)({mapLib:null,map:null});(0,n.useEffect)(()=>{let t;let n=e.mapLib,r=!0;return Promise.resolve(n||o.e(634).then(o.t.bind(o,6158,23))).then(o=>{if(r){if(o.Map||(o=o.default),!o||!o.Map)throw Error("Invalid mapLib");if(o.supported(e))(function(e,t){for(let o of _)o in t&&(e[o]=t[o]);t.RTLTextPlugin&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(t.RTLTextPlugin,e=>{e&&console.error(e)},!1)})(o,e),e.reuseMaps&&(t=g.reuse(e,l.current)),t||(t=new g(o.Map,e,l.current)),u.map=function(e,t){if(!e)return null;let o=e.map,n={getMap:()=>o,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:o=>e.transform.locationPoint(t.LngLat.convert(o)),unproject:o=>e.transform.pointLocation(t.Point.convert(o)),queryTerrainElevation:(t,n)=>{let r=o.transform;o.transform=e.transform;let a=o.queryTerrainElevation(t,n);return o.transform=r,a}};for(let e of function(e){let t=new Set,o=e;for(;o;){for(let n of Object.getOwnPropertyNames(o))"_"!==n[0]&&"function"==typeof e[n]&&"fire"!==n&&"setEventedParent"!==n&&t.add(n);o=Object.getPrototypeOf(o)}return Array.from(t)}(o))e in n||y.includes(e)||(n[e]=o[e].bind(o));return n}(t,o),u.mapLib=o,s(t),null==a||a.onMapMount(u.map,e.id);else throw Error("Map is not supported by this browser")}}).catch(t=>{e.onError({type:"error",target:null,originalEvent:null,error:t})}),()=>{r=!1,t&&(null==a||a.onMapUnmount(e.id),e.reuseMaps?t.recycle():t.destroy())}},[]),v(()=>{i&&i.setProps(e)}),(0,n.useImperativeHandle)(t,()=>u.map,[i]);let c=(0,n.useMemo)(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]);return n.createElement("div",{id:e.id,ref:l,style:c},i&&n.createElement(E.Provider,{value:u},n.createElement("div",{"mapboxgl-children":""},e.children)))});x.displayName="Map",x.defaultProps={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:e=>console.error(e.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"};var b=x,C=o(3935);let L=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function P(e,t){if(!e||!t)return;let o=e.style;for(let e in t){let n=t[e];Number.isFinite(n)&&!L.test(e)?o[e]=`${n}px`:o[e]=n}}function M(e){let{map:t,mapLib:o}=(0,n.useContext)(E),r=(0,n.useRef)({props:e});r.current.props=e;let a=(0,n.useMemo)(()=>{let t=!1;n.Children.forEach(e.children,e=>{e&&(t=!0)});let i={...e,element:t?document.createElement("div"):null},s=new o.Marker(i).setLngLat([e.longitude,e.latitude]);return s.getElement().addEventListener("click",e=>{var t,o;null===(o=(t=r.current.props).onClick)||void 0===o||o.call(t,{type:"click",target:s,originalEvent:e})}),s.on("dragstart",e=>{var t,o;let n=e;n.lngLat=a.getLngLat(),null===(o=(t=r.current.props).onDragStart)||void 0===o||o.call(t,n)}),s.on("drag",e=>{var t,o;let n=e;n.lngLat=a.getLngLat(),null===(o=(t=r.current.props).onDrag)||void 0===o||o.call(t,n)}),s.on("dragend",e=>{var t,o;let n=e;n.lngLat=a.getLngLat(),null===(o=(t=r.current.props).onDragEnd)||void 0===o||o.call(t,n)}),s},[]);return(0,n.useEffect)(()=>(a.addTo(t.getMap()),()=>{a.remove()}),[]),(0,n.useEffect)(()=>{P(a.getElement(),e.style)},[e.style]),(a.getLngLat().lng!==e.longitude||a.getLngLat().lat!==e.latitude)&&a.setLngLat([e.longitude,e.latitude]),e.offset&&!function(e,t){let o=Array.isArray(e)?e[0]:e?e.x:0,n=Array.isArray(e)?e[1]:e?e.y:0,r=Array.isArray(t)?t[0]:t?t.x:0,a=Array.isArray(t)?t[1]:t?t.y:0;return o===r&&n===a}(a.getOffset(),e.offset)&&a.setOffset(e.offset),a.isDraggable()!==e.draggable&&a.setDraggable(e.draggable),a.getRotation()!==e.rotation&&a.setRotation(e.rotation),a.getRotationAlignment()!==e.rotationAlignment&&a.setRotationAlignment(e.rotationAlignment),a.getPitchAlignment()!==e.pitchAlignment&&a.setPitchAlignment(e.pitchAlignment),a.getPopup()!==e.popup&&a.setPopup(e.popup),(0,C.createPortal)(e.children,a.getElement())}M.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};var S=n.memo(M);function T(e){return new Set(e?e.trim().split(/\s+/):[])}n.memo(function(e){let{map:t,mapLib:o}=(0,n.useContext)(E),r=(0,n.useMemo)(()=>document.createElement("div"),[]),a=(0,n.useRef)({props:e});a.current.props=e;let i=(0,n.useMemo)(()=>{let t={...e},n=new o.Popup(t).setLngLat([e.longitude,e.latitude]);return n.once("open",e=>{var t,o;null===(o=(t=a.current.props).onOpen)||void 0===o||o.call(t,e)}),n},[]);if((0,n.useEffect)(()=>{let e=e=>{var t,o;null===(o=(t=a.current.props).onClose)||void 0===o||o.call(t,e)};return i.on("close",e),i.setDOMContent(r).addTo(t.getMap()),()=>{i.off("close",e),i.isOpen()&&i.remove()}},[]),(0,n.useEffect)(()=>{P(i.getElement(),e.style)},[e.style]),i.isOpen()&&((i.getLngLat().lng!==e.longitude||i.getLngLat().lat!==e.latitude)&&i.setLngLat([e.longitude,e.latitude]),e.offset&&!u(i.options.offset,e.offset)&&i.setOffset(e.offset),(i.options.anchor!==e.anchor||i.options.maxWidth!==e.maxWidth)&&(i.options.anchor=e.anchor,i.setMaxWidth(e.maxWidth)),i.options.className!==e.className)){let t=T(i.options.className),o=T(e.className);for(let e of t)o.has(e)||i.removeClassName(e);for(let e of o)t.has(e)||i.addClassName(e);i.options.className=e.className}return(0,C.createPortal)(e.children,r)});var w=function(e,t,o,r){let a=(0,n.useContext)(E),i=(0,n.useMemo)(()=>e(a),[]);return(0,n.useEffect)(()=>{let e=r||o||t,n="function"==typeof t&&"function"==typeof o?t:null,s="function"==typeof o?o:"function"==typeof t?t:null,{map:l}=a;return!l.hasControl(i)&&(l.addControl(i,null==e?void 0:e.position),n&&n(a)),()=>{s&&s(a),l.hasControl(i)&&l.removeControl(i)}},[]),i};n.memo(function(e){let t=w(({mapLib:t})=>new t.AttributionControl(e),{position:e.position});return(0,n.useEffect)(()=>{P(t._container,e.style)},[e.style]),null});var R=n.memo(function(e){let t=w(({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return(0,n.useEffect)(()=>{P(t._controlContainer,e.style)},[e.style]),null});let A=(0,n.forwardRef)((e,t)=>{let o=(0,n.useRef)({props:e}),r=w(({mapLib:t})=>{let n=new t.GeolocateControl(e),r=n._setupUI;return n._setupUI=e=>{n._container.hasChildNodes()||r(e)},n.on("geolocate",e=>{var t,n;null===(n=(t=o.current.props).onGeolocate)||void 0===n||n.call(t,e)}),n.on("error",e=>{var t,n;null===(n=(t=o.current.props).onError)||void 0===n||n.call(t,e)}),n.on("outofmaxbounds",e=>{var t,n;null===(n=(t=o.current.props).onOutOfMaxBounds)||void 0===n||n.call(t,e)}),n.on("trackuserlocationstart",e=>{var t,n;null===(n=(t=o.current.props).onTrackUserLocationStart)||void 0===n||n.call(t,e)}),n.on("trackuserlocationend",e=>{var t,n;null===(n=(t=o.current.props).onTrackUserLocationEnd)||void 0===n||n.call(t,e)}),n},{position:e.position});return o.current.props=e,(0,n.useImperativeHandle)(t,()=>({trigger:()=>r.trigger()}),[]),(0,n.useEffect)(()=>{P(r._container,e.style)},[e.style]),null});A.displayName="GeolocateControl";var z=n.memo(A),k=n.memo(function(e){let t=w(({mapLib:t})=>new t.NavigationControl(e),{position:e.position});return(0,n.useEffect)(()=>{P(t._container,e.style)},[e.style]),null});function Z(e){let t=w(({mapLib:t})=>new t.ScaleControl(e),{position:e.position});return(t.options.unit!==e.unit||t.options.maxWidth!==e.maxWidth)&&(t.options.maxWidth=e.maxWidth,t.setUnit(e.unit)),(0,n.useEffect)(()=>{P(t._container,e.style)},[e.style]),null}Z.defaultProps={unit:"metric",maxWidth:100},n.memo(Z)}}]);